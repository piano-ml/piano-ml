function y(t,n){for(let e of t)e.ticks=l(e.ticks,n),e.durationTicks=l(e.durationTicks,n)}function l(t,n){let e=n/8,r=Math.round(t/e)*e;return r==0?t:r}function N(t,n){let e=t.numerator*n.denominator-n.numerator*t.denominator;return e===0?0:e>0?1:-1}function D(t,n){let e=p(S(t,n*4));return e.ticks=t,e}function S(t,n){return{numerator:t,denominator:n}}function p(t){let n=h(t.numerator,t.denominator);return{ticks:t.ticks,numerator:t.numerator/n,denominator:t.denominator/n}}function h(t,n){return n===0?t:h(n,t%n)}var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],T=u,s=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];var I={Cb:s,Gb:s,Db:s,Ab:s,Eb:s,Bb:s,F:s,C:u,G:u,D:u,A:u,E:u,B:u,"F#":u,"C#":u},V={Db:["Bb","Eb","Ab","Db","Gb"],Ab:["Bb","Eb","Ab","Db"],Eb:["Bb","Eb","Ab"],Bb:["Bb","Eb"],F:["Bb"],C:[],G:["F#"],D:["F#","C#"],A:["F#","C#","G#"],E:["F#","C#","G#","D#"],B:["F#","C#","G#","D#","A#"],"F#":["F#","C#","G#","D#","A#","E#"]},O=[{kind:"Chord",name:"Major",alt:"",pattern:[0,4,7]},{kind:"Chord",name:"Minor",alt:"",pattern:[0,3,7]},{kind:"Chord",name:"Dominant 7",alt:"",pattern:[0,4,7,10]}];function v(t,n,e){let r=n-1,o=Math.floor(r/e.length);return e[r%e.length]+t+12*o}var k=[2,2,1,2,2,2,1],x=[2,1,2,2,1,2,2],C=[2,1,2,2,1,3,1],g=[2,1,2,2,2,2,1],A=[2,1,2,2,2,1,2],M=[1,2,2,2,1,2,2],j=[2,2,2,1,2,2,1],B=[2,2,1,2,2,1,2],R=[1,2,2,1,2,2,2],z=[{kind:"Scale",name:"Major",alt:"Ionian",pattern:k},{kind:"Scale",name:"Natural Minor",alt:"Aeolian",pattern:x},{kind:"Scale",name:"Harmonic Minor",alt:"Aeolian \u266E7",pattern:C},{kind:"Scale",name:"Melodic Minor",alt:"Jazz minor",pattern:g},{kind:"Scale",name:"Dorian",alt:"",pattern:A},{kind:"Scale",name:"Phrygian",alt:"",pattern:M},{kind:"Scale",name:"Lydian",alt:"",pattern:j},{kind:"Scale",name:"Mixolydian",alt:"",pattern:B},{kind:"Scale",name:"Locrian",alt:"",pattern:R}];function $(t,n,e){let r=l(t,e),o=p(D(r,e));if(o.numerator===1)return{duration:String(o.denominator),dots:0};let m=[1/1,1/2,1/4,1/8,1/16,1/32],f=[[1/1,1/1+1/2],[1/2,1/2+1/4],[1/4,1/4+1/8],[1/8,1/8+1/16],[1/16,1/16+1/32],[1/32]],i=o.numerator/o.denominator,d=m.reduce((a,c)=>Math.abs(c-i)<Math.abs(a-i)?c:a),b=f[m.indexOf(d)],F=b.reduce((a,c)=>Math.abs(c-i)<Math.abs(a-i)?c:a);return{duration:String(1/d),dots:b.indexOf(F)}}function q(t,n,e){let r=l(t,e),o=p(D(r,e));if(o.numerator===1)return{duration:String(o.denominator),dots:0};let m=[1/1,1/2,1/4,1/8,1/16,1/32,1/64],f=[[1/1,1/1+1/2],[1/2,1/2+1/4],[1/4,1/4+1/8],[1/8,1/8+1/16],[1/16,1/16+1/32],[1/32],[1/64]],i=o.numerator/o.denominator,d=m.reduce((a,c)=>Math.abs(c-i)<Math.abs(a-i)?c:a),b=f[m.indexOf(d)],F=b.reduce((a,c)=>Math.abs(c-i)<Math.abs(a-i)?c:a);return{duration:String(1/d),dots:b.indexOf(F)}}function H(t){return Number.isNaN(t.bars)?(console.warn("note.bars is NaN",t),-1):t.bars===1/0?(console.warn("note.bars is Infinity",t),-1):Math.trunc(t.bars)}function E(t,n){let e=n.numerator,r=60/t;return e*r*(4/n.denominator)}function G(t,n){return n*t.numerator*4/t.denominator}function J(t,n,e){return G(n,e)/n.numerator*(n.denominator/t)}function X(t,n,e){return E(e,n)/n.numerator*4/t}function _(t){let n=t%12,e=Math.floor(t/12)-1;return`${s[n]}${e}`}export{y as a,N as b,D as c,S as d,T as e,I as f,V as g,O as h,v as i,z as j,$ as k,q as l,H as m,E as n,G as o,J as p,X as q,_ as r};
